<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WarehouseMeals</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1733 1775" fill="none" class="logo-icon">
          <path d="M1732.05 1350L915.025 1774.54V983.941L1732.05 512.232V1350ZM815.025 977.517V1773.5L0 1350V507.022L815.025 977.517ZM1683.52 424.781L870.59 894.127L541.562 704.187L1337.2 244.827L1683.52 424.781ZM1231.93 190.131L441.556 646.455L53.2803 422.313L866.025 0L1231.93 190.131Z" fill="#C10007"/>
        </svg>
        <span class="logo-text">WarehouseMeals</span>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- WarehouseMeals Connection -->
      <section class="section">
        <div class="section-header">
          <h2 class="section-title">WarehouseMeals Account</h2>
          <span id="wm-status" class="status-badge status-disconnected">Disconnected</span>
        </div>
        <div id="wm-connected" class="connected-state hidden">
          <button id="wm-disconnect" class="btn btn-outline btn-sm">Disconnect</button>
        </div>
        <div id="wm-disconnected" class="disconnected-state">
          <p class="hint">Connect to sync your receipts</p>
          <button id="wm-connect" class="btn btn-primary">Connect Account</button>
        </div>
      </section>

      <!-- Costco Connection -->
      <section class="section">
        <div class="section-header">
          <h2 class="section-title">Costco Account</h2>
          <span id="costco-status" class="status-badge status-disconnected">Disconnected</span>
        </div>
        <div id="costco-connected" class="connected-state hidden">
          <p class="hint">Ready to sync receipts</p>
        </div>
        <div id="costco-disconnected" class="disconnected-state">
          <p class="hint">Sign in to <a href="https://www.costco.com" target="_blank">costco.com</a> to connect</p>
        </div>
      </section>

      <!-- Sync Section -->
      <section class="section" id="sync-section">
        <div class="section-header">
          <h2 class="section-title">Sync Receipts</h2>
        </div>
        <div class="sync-options">
          <div class="date-range">
            <label class="label">Date Range</label>
            <select id="date-range" class="select">
              <option value="30">Last 30 days</option>
              <option value="60">Last 60 days</option>
              <option value="90" selected>Last 90 days</option>
              <option value="180">Last 6 months</option>
              <option value="365">Last year</option>
            </select>
          </div>
          <button id="sync-btn" class="btn btn-primary btn-block" disabled>
            <span class="btn-text">Sync Now</span>
            <span class="btn-loading hidden">
              <svg class="spinner" viewBox="0 0 24 24">
                <circle class="spinner-circle" cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="3"/>
              </svg>
              <span class="btn-loading-text">Syncing...</span>
            </span>
          </button>
        </div>
        <div id="sync-result" class="sync-result hidden"></div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <a href="https://warehousemeals.com" target="_blank" class="footer-link">Open WarehouseMeals</a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
